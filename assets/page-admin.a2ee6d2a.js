import{d as $,r as n,o as s,c as d,w as c,B as l,W as b,D as g,E as f,H as S,G as v,s as u,x as T,v as K,P as C,u as B,l as D,J as H,K as A,t as L,L as M,M as N}from"./vendor.44cd46a8.js";import{_ as I}from"./index.6afd7c72.js";const P=$({props:["menuInfo"]}),V={class:"sider-sub-menu"},j={class:"sider-sub-menu-text"};function E(e,r,_,m,y,i){const h=n("router-link"),p=n("a-menu-item"),k=n("sub-menu",!0),a=n("a-sub-menu");return s(),d(a,{key:e.menuInfo.key},{title:c(()=>[l("div",V,[l("i",{class:b(["sider-sub-menu-icon",e.menuInfo.icon])},null,2),l("span",j,g(e.menuInfo.title),1)])]),default:c(()=>[(s(!0),f(v,null,S(e.menuInfo.children,t=>(s(),f(v,null,[t.children?(s(),d(k,{key:t.key,"menu-info":t},null,8,["menu-info"])):(s(),d(p,{key:t.key},{default:c(()=>[u(h,{to:t.link},{default:c(()=>[l("span",null,g(t.title),1)]),_:2},1032,["to"])]),_:2},1024))],64))),256))]),_:1})}var z=I(P,[["render",E]]);const F=$({props:{theme:String},components:{subMenu:z},emits:["change-theme"],setup(e,{emit:r}){const _=T(),m=K([{key:"1",title:"Dashboard",icon:"menu-home",link:"/admin/dashboard"},{key:"2",title:"Posts",icon:"menu-edit",link:"/admin/posts"}]),y=C(e.theme==="dark"),i=C(["1"]),h=a=>{console.log(a),i.value=a.keyPath},p=a=>{r("change-theme",a?"dark":"light")};return(()=>{const a=_.path,t=m.find(o=>o.link===a);t&&(i.value=[t.key])})(),{list:m,checked:y,selectedKeys:i,selectClick:h,changeTheme:p}}}),G={class:"layout-sider"},J={class:"sider-body"},R={class:"sider-menu-text"},U={class:"sider-switch"};function W(e,r,_,m,y,i){const h=n("router-link"),p=n("a-menu-item"),k=n("sub-menu"),a=n("a-menu"),t=n("a-switch");return s(),f("div",G,[l("div",J,[u(a,{"selected-keys":e.selectedKeys,"open-keys":["2"],mode:"inline",theme:e.theme,onClick:e.selectClick},{default:c(()=>[(s(!0),f(v,null,S(e.list,o=>(s(),f(v,null,[o.children?(s(),d(k,{key:o.key,"menu-info":o},null,8,["menu-info"])):(s(),d(p,{key:o.key,class:"sider-menu"},{default:c(()=>[u(h,{to:o.link},{default:c(()=>[l("i",{class:b(["sider-menu-icon",o.icon])},null,2),l("span",R,g(o.title),1)]),_:2},1032,["to"])]),_:2},1024))],64))),256))]),_:1},8,["selected-keys","theme","onClick"]),l("div",U,[u(t,{"checked-children":"dark","un-checked-children":"light",checked:e.checked,"onUpdate:checked":r[0]||(r[0]=o=>e.checked=o),onChange:e.changeTheme},null,8,["checked","onChange"])])])])}var q=I(F,[["render",W],["__scopeId","data-v-e52cc0fa"]]);const O=$({components:{layoutSider:q},setup(){const e=B(),r=localStorage.getItem("theme")||"light",_=C(r),m=D(()=>e.state.common.site||{});return{theme:_,site:m,changeThemeHandle:i=>{_.value=i,localStorage.setItem("theme",i)}}}}),Q=e=>(M("data-v-7ee4ee84"),e=e(),N(),e),X={class:"sider-logo"},Y=Q(()=>l("i",{class:"sider-logo-icon"},null,-1));function Z(e,r,_,m,y,i){const h=n("router-link"),p=n("layout-sider"),k=n("a-layout-sider"),a=n("router-view"),t=n("a-layout-content"),o=n("a-layout");return s(),d(o,{class:b(["layout-admin",e.theme==="dark"?"container-dark":""])},{default:c(()=>[u(k,{theme:e.theme,width:"280"},{default:c(()=>[l("div",X,[Y,u(h,{class:"sider-logo-text",to:"/"},{default:c(()=>[H(g(e.site.title),1)]),_:1})]),u(p,{theme:e.theme,onChangeTheme:e.changeThemeHandle},null,8,["theme","onChangeTheme"])]),_:1},8,["theme"]),u(t,{class:"container"},{default:c(()=>[u(a,null,{default:c(({Component:w})=>[(s(),d(A,null,[(s(),d(L(w),{key:e.$route.path}))],1024))]),_:1})]),_:1})]),_:1},8,["class"])}var ne=I(O,[["render",Z],["__scopeId","data-v-7ee4ee84"]]);export{ne as default};
