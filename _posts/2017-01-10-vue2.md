---
layout: post
title: Vue.js学习指南
category: experience
---

## 写在前面
> 虽说[vue官网](https://vuefe.cn/v2/guide/)已经有很详细的教程，而且我也是大部分在这里边看边学习的。不过我是希望能够总结出一些对自己有用的部分，或者希望学习完之后能够理出自己的思路来，这样，也算是达到了我写笔记的目的。

## 1.简介

Vue.js 集中在 MVVM 模式上的视图模型层，并通过双向数据绑定连接视图和模型。实际的 DOM 操作和输出格式被抽象出来成指令和过滤器。

Vue.js 的 API 参考了Angular,knockout,reat和rivets,建议对此4个框架做些了解。

## 2.安装

> Vue.js不支持IE8及以下版本。

小型应用：直接引入[vue.js](http://vuejs.org/js/vue.js) <script src="vue.js"></script>

大型应用：通过命令行 npm install vue 来安装

官方命令行工具：
    
    #vue-cli即为官方提供的命令行工具，用于快速搭建大型单页应用
    npm install --global vue-cli
    #基于webpack模板创建一个项目
    vue init webpack projectName
    cd projectName
    #安装依赖
    npm install
    #开发环境
    npm run dev
    #OR 生产环境
    npm run build
    
## 3.一个完整的Vue实例

    var vm = new Vue({
        el:'#app',  
        data:{      
            message:'hello world!' 
        },
        propsData:{
            //
        },
        computed:{
            //
        },
        method:{
            //
        },
        watch:{
            
        },
        template:'',
        render:{
            
        },
        
        //生命周期钩子->生命周期回调函数
        beforeCreate:{
            // 实例初始化之后，数据及事件配置之前
        },
        //->observe Data ->init Events
        created:{
            //实例创建完成之后
        },
        //->compile template编译模板
        beforeMount:{
            //组件开始挂载到文档里之前，render首次被调用，服务端渲染不被调用
        },
        //->create vm.$el
        mounted:{
            //组件、vm.$el已经挂载到文档里
        },
        //-> Mounted
        beforeUpdate:{
            //虚拟DOM重新渲染when data changes
        },
        //-> 虚拟DOM节点重新渲染加载
        updated：{
            //页面更新好了
        },
        activated: {
            //keep-alive组件激活时
        },
        deactivated: {
            //keep-alive组件停用时
        },
        //-> 当调用vm.$destroy()方法
        beforeDestroy:{
            //销毁实例之前，实例仍可用
        }
        //-> 解绑/删除函数监听、观察函数和组件、子实例
        destroyed:{
            //销毁实例之后
        }
        
    })

    生命周期如下图所示：

![image](https://raw.githubusercontent.com/wilsonIs/cdn-image/master/md/vue-lifecycle.png)



## 4. vue的API

### 4.1. vue的属性/数据
    
    data: //该实例下存储的数据，一般为对象
        
        但是，当定义一个组件时，则data为一个函数，用于创建多个实例，如
        var component = Vue.extend({
            data :function () {
                return {
                    key : value
                }
            }
        })
        
    props: //组件中，用于接收来自父组件的数据，可为数组或对象
        
        //作为数组-> 接收数据
        Vue.component('my-component',{
            props: ['size ','message']
        })
        //作为对象-> 提供校验
        Vue.component('my-component',{
            props:{
                size:Number, //检测数据类型
                message: {
                    type: Number,
                    default:0,
                    required:true,
                    validator:function (value) {
                        return value >=0
                    }
                }
            }
        })
        
    propsData: //组件new创建的实例中
    
        //用于传递props的value
        var component = Vue.extend({
            props: ['msg'],
            template: '<div>{{ msg }}</div>'
        })
        var vm = new component({
            propsData: {
                msg: 'hello'
            }
        })
        
    computed: //vue实例中->计算属性
    
        var vm = new Vue({
            data: { a: 1 },
            computed: {
                // 仅读取，值只须为函数
                aDouble: function () {
                return this.a * 2
                },
                // 读取和设置
                aPlus: {
                  get: function () {
                    return this.a + 1
                  },
                  set: function (v) {
                    this.a = v - 1
                  }
                }
            }
        })
        vm.aPlus   // -> 2
        vm.aPlus = 3
        vm.a       // -> 2
        vm.aDouble // -> 4
        
    methods:  //vue实例中，用户自定义的方法，函数
    
        var vm= new Vue({
            methods: {
                onClicked:function(){
                  //  
                },
                onEvent:function(){
                    
                }
            }
        })
        
    watch: //vue实例中，同$watch，但为对象，可设置观察多个key
    
        var vm= new Vue({
            data: {
                a:1,
                b:2,
            },
            watch: {
                a: function (newVal, oldVal){
                    //
                },
                b: function (newVal, oldVal){
                    //
                }
            }
            
        }) 

### 4.2. vue的属性/DOM
    
    el: //实例中，选中'***'的元素为挂载目标，可通过vm.$mount()显市挂载
    
    template: //字符串模板，该模板将替换挂载的元素，
    
    render: //函数，字符串模板的替代方案
    
### 4.3. vue的方法/数据
    
    vm.$el //->$("#app").get(0);
    vm.$data //->data
    vm.$option
    vm.$parent
    vm.$root
    vm.$children
    vm.$slots
    vm.$scopedSlots
    vm.$refs
    vm.$isServer
    
    vm.$watch //->监听data中值的变化
    vm.$set
    vm.$delete
    
### 4.3. vue的方法/事件
    
    vm.$on
    vm.$once
    vm.$off
    vm.$emit
    
