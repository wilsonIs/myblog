---
title: vuepress + gh-pages æ­å»ºé¡¹ç›®ä¸“å±æ–‡æ¡£
date: 2020-04-17
comments: true
sidebar: 'auto'
categories: 
 - blog
tags:
 - åˆ†äº«
---

æœ¬æ–‡çš„ç›®æ ‡æ˜¯å­¦ä¹ å¦‚ä½•é€šè¿‡ `vuepress` + `gh-pages` å¿«é€’æ­å»ºé¡¹ç›®ä¸“å±æ–‡æ¡£ã€‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦å…ˆç®€å•äº†è§£ä¸‹ `gh-pages` å’Œ `vuepress`ã€‚

## gh-pages

gh-pages ä¹Ÿå« [Github Pages](https://pages.github.com/)ï¼Œæ˜¯ github å®˜æ–¹å†…ç½®çš„åŠŸèƒ½ï¼Œç”¨äºä¸ºé¡¹ç›®æ­å»ºä¸“å±é™æ€ç½‘ç«™ã€‚

å®ƒæä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

* ä¼—å¤šåšå®¢æ¨¡æ¿é€‰æ‹©åŠåœ¨çº¿ç¼–è¾‘
* æ”¯æŒ HTML åŠ [jekyll](https://github.com/jekyll/jekyll) æ¨¡ç‰ˆå¼•æ“
* é»˜è®¤ä½¿ç”¨ gh-pages åˆ†æ”¯æ„å»º
* æ”¯æŒåˆ‡æ¢ä½¿ç”¨ master æˆ– master/docs åˆ†æ”¯
* ä»£ç æäº¤å³éƒ¨ç½²

æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨ gh-pages æ¨¡ç‰ˆæ¥å¿«é€Ÿæ­å»ºé¡µé¢ï¼Œæ›´å¯ä»¥å°†é™æ€é¡µé¢ç›´æ¥æ¨é€åˆ° `gh-pages` åˆ†æ”¯ï¼Œ
github ä¼šå°†è¯¥åˆ†æ”¯ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å½“ä½œé™æ€æ–‡ä»¶éƒ¨ç½²ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è®¿é—®æˆ‘ä»¬æ¨é€çš„é¡µé¢äº†ã€‚

## vuepress

[vuepress](https://vuepress.vuejs.org/zh/) æ˜¯ä¸€æ¬¾ä¾¿æ·çš„vueé©±åŠ¨é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

* markdownå³é¡µé¢
* vueé©±åŠ¨ï¼Œæ”¯æŒ vue ç»„ä»¶æ¸²æŸ“
* æ”¯æŒå¤šç§ä¸»é¢˜
* æ’ä»¶å³åŠŸèƒ½
* ä¸°å¯Œä¸”ç®€å•çš„é…ç½®
* æ‰©å±•æ€§é«˜

## æ­¥éª¤

åŸºäºä»¥ä¸Šå‡ ä¸ªç‰¹ç‚¹ï¼Œç”¨ `gh-pages` å’Œ `vuepress` æ¥å†™æ–‡æ¡£å†åˆé€‚ä¸è¿‡ï¼Œå¤Ÿç®€å•ï¼Œå¤Ÿä¾¿æ·ã€‚

ä¸‹é¢å‡ ä¸ªç½‘ç«™éƒ½æ˜¯é€šè¿‡è¯¥æ–¹å¼éƒ¨ç½²çš„ï¼š

* ç•¥

### é€‰æ‹© gh-pages éƒ¨ç½²åˆ†æ”¯

å¯¹äºéä¸šåŠ¡ä»“åº“æ¨èé€‰æ‹© `master/docs` ä½œä¸ºéƒ¨ç½²ç›®å½•ï¼Œè€Œå¯¹äºä¸šåŠ¡ä»“åº“å»ºè®®ä½¿ç”¨ `gh-pages` åˆ†æ”¯æ¥éƒ¨ç½²ï¼Œæ–¹ä¾¿è·Ÿéšç‰ˆæœ¬æ›´æ–°æ–‡æ¡£ã€‚

### vuepress æ¨¡æ¿

å¦‚æœä½ è¦å†™åšå®¢é¡¹ç›®ï¼Œå»ºè®®å‚è€ƒ [hl-blogç•¥]()ï¼Œå¦‚æœæ˜¯è¦å†™é¡¹ç›®æ–‡æ¡£ï¼Œæˆ‘ä»¬å‚è€ƒ [ç•¥]()æ¥æ­å»ºã€‚

#### æ·»åŠ ä¾èµ–

```json
{
    "devDependencies": {
        "vuepress": "^1.2.0",
        "@vuepress/plugin-pwa": "^1.2.0",
        "@vuepress/theme-vue": "^1.2.0",
    }
}
```

#### æ·»åŠ ç¼–è¯‘è„šæœ¬

```json
{
    "script": {
        "docs:dev": "vuepress dev docs",
        "docs:build": "vuepress build docs"
    }
}
```

#### vuepressé…ç½®

```js
module.exports = {
    // baseurlåœ°å€ï¼Œå³è®¿é—®æ ¹è·¯ç”±
    base: '/pages/plugin-h5/repo-name/docs/public/',
    // æ‰“åŒ…è¾“å‡ºç›®å½•
    dest: 'docs/public',
    // æ’ä»¶
    plugins: [
        // å±•ç¤º demo
        'demo-block',
        // å®˜æ–¹pwaæ’ä»¶ï¼Œå‘å¸ƒæ–°ç‰ˆæœ¬æç¤ºæ›´æ–°
        '@vuepress/pwa',
    ],
    // ä¸»é¢˜é…ç½®
    themeConfig: {
        // å¤´éƒ¨å¯¼èˆªæ 
        nav: [
            {
                text: 'æŒ‡å—',
                link: '/guide/'
            }
        ],
        // ä¾§è¾¹æ 
        sidebar: {
            '/guide/': [
                '/guide/install/',
                {
                    title: 'ä¸šåŠ¡æµç¨‹',
                    collapsable: true,
                    children: [
                        '/guide/apply',
                        '/guide/edit'
                    ]
                }
            ]
        }
    }
}

```

### éƒ¨ç½²

æ‰§è¡Œä¸‹æ–¹è„šæœ¬ï¼Œ`vuepress` ä¼šå°†æ‰€æœ‰çš„ `md` ç¼–è¯‘æˆé™æ€çš„ `html` æ–‡ä»¶ï¼Œè¾“å‡ºåˆ° `dest` å¯¹åº”çš„è·¯å¾„ä¸‹ã€‚ç»§ç»­å°†æ„å»ºå¥½çš„é™æ€æ–‡ä»¶ï¼Œæ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ `gh-pages` ï¼Œç­‰å¾…å‡ ç§’ï¼Œå°±å¯ä»¥çœ‹åˆ°é¡µé¢å·²ç»éƒ¨ç½²å¥½äº†ğŸ‰ğŸ‰ğŸ‰

```bash
npm run docs:build
```
